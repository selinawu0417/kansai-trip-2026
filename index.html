<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>2026æ—¥æœ¬æ—…éŠ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { 
            background-color: #f3f4f6; 
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(12px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-card { animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards; }

        .checkbox-wrapper input:checked + div {
            background-color: #2563eb;
            border-color: #2563eb;
        }
        .checkbox-wrapper input:checked + div svg { display: block; }

        .tag-food { color: #d97706; font-weight: bold; background-color: #fffbeb; padding: 0 4px; border-radius: 4px; }
        .tag-tip { color: #059669; font-weight: bold; }
        
        /* Mapcode Modal æ¨£å¼ä¿®æ­£ */
        #mapcode-modal { 
            display: none; 
            position: fixed; 
            inset: 0; 
            z-index: 100; 
            align-items: center; 
            justify-content: center; 
            padding: 1rem; 
            background-color: rgba(0,0,0,0.6); 
            backdrop-filter: blur(4px);
        }
        .mapcode-table { width: 100%; border-collapse: collapse; font-size: 14px; }
        .mapcode-table th { text-align: left; padding: 12px; border-bottom: 1px solid #e2e8f0; color: #64748b; font-weight: 600; background-color: #fff; }
        .mapcode-table td { padding: 12px; border-bottom: 1px solid #f1f5f9; background-color: #fff; }
        .mapcode-num { font-family: monospace; font-weight: bold; color: #2563eb; font-size: 15px; }
        .parking-note { color: #6b7280; font-size: 11px; line-height: 1.3; }
    </style>
</head>
<body class="pb-24 select-none">

    <div class="bg-gradient-to-br from-indigo-700 via-blue-600 to-blue-500 text-white p-6 pb-14 rounded-b-[2.5rem] shadow-xl relative overflow-hidden">
        <div class="relative z-10">
            <div class="flex justify-between items-start">
                <div>
                    <h1 class="text-2xl font-bold tracking-tight">2026æ—¥æœ¬æ—…éŠ- äº¬éƒ½ çµç¶æ¹– å®‡æ²» å¤§é˜ª</h1>
                    <p class="text-blue-100 text-sm mt-1 font-medium">2026/02/13 â€” 02/20 (8å¤©)</p>
                </div>
                <div class="bg-white/20 backdrop-blur-md rounded-lg p-2 text-center min-w-[4.5rem] border border-white/30">
                    <div class="text-[10px] text-blue-50 mb-0.5" id="weather-location">è¼‰å…¥ä¸­</div>
                    <div class="text-xl font-bold flex items-center justify-center gap-1" id="weather-display">
                        <i class="fas fa-circle-notch fa-spin text-sm"></i>
                    </div>
                </div>
            </div>

            <div class="grid grid-cols-2 gap-3 mt-6">
                <a href="https://translate.google.com/?sl=ja&tl=zh-TW" target="_blank" class="flex items-center justify-center gap-2 bg-blue-600 border border-blue-500 text-white py-2.5 rounded-xl shadow-md active:scale-95 transition-all">
                    <i class="fas fa-language"></i> <span class="font-bold">Googleç¿»è­¯</span>
                </a>
                <button onclick="showMapcode(true)" class="flex items-center justify-center gap-2 bg-white/10 backdrop-blur-md border border-white/40 text-white py-2.5 rounded-xl transition active:scale-95">
                    <i class="fas fa-list-ol"></i> <span class="font-bold">Mapcode è¡¨æ ¼</span>
                </button>
            </div>
        </div>
        <div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -mr-16 -mt-16 pointer-events-none"></div>
    </div>

    <div id="mapcode-modal" onclick="if(event.target == this) showMapcode(false)">
        <div class="bg-white w-full max-w-lg rounded-[2rem] overflow-hidden shadow-2xl animate-card border border-gray-200">
            <div class="p-6 border-b border-gray-100 flex justify-between items-center">
                <h3 class="font-bold text-xl text-slate-800 tracking-tight">è‡ªé§• Mapcode èˆ‡åœè»Š</h3>
                <button onclick="showMapcode(false)" class="w-10 h-10 flex items-center justify-center bg-gray-100 rounded-full"><i class="fas fa-times"></i></button>
            </div>
            <div class="max-h-[65vh] overflow-y-auto px-2">
                <table class="mapcode-table">
                    <thead><tr><th>ç›®çš„åœ°</th><th>Mapcode</th><th>åœè»Šç‹€æ³</th></tr></thead>
                    <tbody id="mapcode-body"></tbody>
                </table>
            </div>
            <div class="p-5 bg-slate-50 text-center text-xs text-slate-500 font-medium border-t border-gray-100">è¼¸å…¥æ•¸å­—è‡³å°èˆªå¾Œç¢ºèªå³å¯æŠµé”</div>
        </div>
    </div>

    <div class="sticky top-0 z-30 bg-[#f3f4f6]/95 backdrop-blur-sm pt-2 pb-1">
        <div class="-mt-10 px-4 mb-2">
            <div id="tabs-container" class="flex gap-2 overflow-x-auto no-scrollbar py-2 px-1 snap-x"></div>
        </div>
    </div>

    <div id="content-area" class="px-4 space-y-4 min-h-[50vh]"></div>

    <div class="text-center text-gray-400 text-[10px] mt-12 mb-6 tracking-widest uppercase">Chou Family Trip â€¢ 2026</div>

    <script>
        const tripData = [
            {
                day: "D1", date: "2/13 (äº”)", area: "å°åŒ— âœˆï¸ äº¬éƒ½", lat: 35.0116, lon: 135.7681, 
                events: [
                    { time: "14:20", title: "é£›å¾€å¤§é˜ªé—œè¥¿", desc: "æ¡ƒåœ’æ©Ÿå ´ T2 â†’ é—œè¥¿æ©Ÿå ´ T1", type: "flight", icon: "fa-plane-departure" },
                    { time: "18:30", title: "Haruka ç›´é”äº¬éƒ½", desc: "æ©Ÿå ´å‰å¾€äº¬éƒ½ç«™ (ç´„ 75 åˆ†é˜)", type: "transport", icon: "fa-train" },
                    { time: "20:00", title: "å…¥ä½ï¼šEmion äº¬éƒ½", desc: "å°±åœ¨æ¢…å°è·¯äº¬éƒ½è¥¿ç«™æ—", type: "hotel", icon: "fa-suitcase", link: "https://www.google.com/maps/place/%E4%BA%AC%E9%83%BDEmion%E9%A3%AF%E5%BA%97/@34.9894809,135.7399131,17z/data=!3m2!4b1!5s0x60010617f3ca7235:0x92b7d65a97770591!4m9!3m8!1s0x6001079204406a3d:0x3b02d1f8210a0470!5m2!4m1!1i2!8m2!3d34.9894765!4d135.742488!16s%2Fg%2F11fs1c_bqr?entry=ttu&g_ep=EgoyMDI2MDIwNC4wIKXMDSoASAFQAw%3D%3D" },
                    { time: "20:30", title: "æ™šé¤ï¼šYakiniku SEVEN", desc: "ç²¾ç·»å’Œç‰›ç‡’è‚‰ã€‚", type: "food", icon: "fa-utensils", link: "https://www.google.com/maps/place/%E7%87%92%E8%82%89SEVEN/@34.9893694,135.7340661,17z/data=!4m6!3m5!1s0x6001063e428c405d:0x18d2bc818444c33d!8m2!3d34.989365!4d135.736641!16s%2Fg%2F11bwnyghm2?entry=ttu&g_ep=EgoyMDI2MDIwNC4wIKXMDSoASAFQAw%3D%3D" }
                ]
            },
            {
                day: "D2", date: "2/14 (å…­)", area: "äº¬éƒ½æ–‡åŒ–æ¢ç´¢", lat: 35.0116, lon: 135.7681, 
                events: [
                    { time: "08:00", title: "é£¯åº—æ—©é¤", desc: "è£œè¶³é«”åŠ›å†å‡ºç™¼ã€‚", type: "food", icon: "fa-coffee" },
                    { time: "09:30", title: "ä¼è¦‹ç¨»è·å¤§ç¤¾", desc: "åƒæœ¬é³¥å±…ã€‚", type: "spot", icon: "fa-torii-gate", link: "https://www.google.com/maps/search/?api=1&query=Fushimi+Inari+Taisha" },
                    { time: "12:00", title: "ç¨»è·å‘¨é‚Šåˆé¤", desc: "æ¨è–¦ï¼šeightã€å¯¶ç‰å ‚ æˆ– ç¨»è·äºŒè‘‰ã€‚", type: "food", icon: "fa-utensils", link: "https://www.google.com/maps/place/eight/@34.9685469,135.7669073,17z/data=!3m1!4b1!4m6!3m5!1s0x60010f5134c53e09:0x5bac48c83b1309a!8m2!3d34.9685425!4d135.7694822!16s%2Fg%2F11srh1pc17?authuser=0&entry=ttu&g_ep=EgoyMDI2MDIwNC4wIKXMDSoASAFQAw%3D%3D" },
                    { time: "14:30", title: "æ¸…æ°´å¯ºæ•£ç­–", desc: "æ¸…æ°´å¯º â†’ äºŒå¹´å‚ â†’ ä¸‰å¹´å‚ã€‚", type: "spot", icon: "fa-shoe-prints", link: "https://www.google.com/maps/search/?api=1&query=Kiyomizu-dera" },
                    { time: "17:30", title: "ç¥‡åœ’èŠ±è¦‹å°è·¯", desc: "è¡—é“æ•£æ­¥ã€‚", type: "spot", icon: "fa-camera", link: "https://www.google.com/maps/search/?api=1&query=Hanamikoji+Street" },
                    { time: "19:00", title: "æ™šé¤ï¼šå…ˆæ–—ç”º å–œæ¨‚", desc: "å£½å–œç‡’/æ¶®æ¶®é‹ã€‚", type: "food", icon: "fa-utensils", link: "https://www.google.com/maps/place/Pontocho+Shabu-shabu+Sukiyaki+Kiraku/@35.0042083,135.768466,17z/data=!3m1!4b1!4m6!3m5!1s0x60010900327eb3d9:0x804cbaa75c3bdac7!8m2!3d35.0042039!4d135.7710409!16s%2Fg%2F11vx26bxlw?authuser=0&entry=ttu&g_ep=EgoyMDI2MDIwNC4wIKXMDSoASAFQAw%3D%3D" },
                    { time: "å®¿", title: "çºŒä½ Emion äº¬éƒ½", desc: "", type: "hotel", icon: "fa-bed", link: "https://www.google.com/maps/place/%E4%BA%AC%E9%83%BDEmion%E9%A3%AF%E5%BA%97/@34.9894809,135.7399131,17z/data=!3m1!5s0x60010617f3ca7235:0x92b7d65a97770591!4m9!3m8!1s0x6001079204406a3d:0x3b02d1f8210a0470!5m2!4m1!1i2!8m2!3d34.9894765!4d135.742488!16s%2Fg%2F11fs1c_bqr?entry=ttu&g_ep=EgoyMDI2MDIwNC4wIKXMDSoASAFQAw%3D%3D" }
                ]
            },
            {
                day: "D3", date: "2/15 (æ—¥)", area: "æ˜å¤ªå­å…¬åœ’ ğŸš— çµç¶æ¹–", lat: 35.1972, lon: 136.0125, 
                events: [
                    { time: "11:00", title: "äº¬éƒ½ç«™å–è»Š (TOYOTA)", desc: "æ–°å¹¹ç·šå£åº—å–è»Šã€‚", type: "transport", icon: "fa-car", link: "https://www.google.com/maps/search/?api=1&query=Toyota+Rent+a+Car+Kyoto+Station+Shinkansen+Exit" },
                    { time: "13:30", title: "æ˜å¤ªå­å…¬åœ’çµç¶æ¹–", desc: "è¦ªå­äº’å‹•å€èˆ‡ç¾é£Ÿã€‚", type: "spot", icon: "fa-store", link: "https://maps.app.goo.gl/WXYpF1XVJ9o3SyR16" },
                    { time: "15:30", title: "La Collina è¿‘æ±Ÿå…«å¹¡", desc: "è‰æ ¹å±‹å»ºç¯‰èˆ‡æ’éšŠå¹´è¼ªè›‹ç³•ã€‚", type: "spot", icon: "fa-leaf", link: "https://maps.app.goo.gl/km72r9sKMW2p3wYDA?g_st=il" },
                    { time: "17:30", title: "å…¥ä½ï¼šç¶ æ°´äº­", desc: "æˆ¿å…§æ³¡æ¹¯è³æ¹–æ™¯ï¼Œæ™šé¤æ‡·çŸ³æ–™ç†ã€‚", type: "hotel", icon: "fa-hot-tub", link: "https://www.google.com/maps/search/?api=1&query=Biwako+Ryokusuitei" }
                ]
            },
            {
                day: "D4", date: "2/16 (ä¸€)", area: "ç®±é¤¨å±±æ»‘é›ªè¶£", lat: 35.4552, lon: 136.0163, 
                events: [
                    { time: "09:00", title: "ç™½é¬šç¥ç¤¾", desc: "æ¹–ä¸­å¤§é³¥å±…åœç•™æ‹ç…§ã€‚", type: "spot", icon: "fa-camera", link: "https://maps.app.goo.gl/4aM5ocSv1DKHX42TA" },
                    { time: "10:30", title: "ç®±é¤¨å±±æ»‘é›ªå ´", desc: "é©åˆå°å­©ï¼Œé›»å‹•æ­¥é“ç©é›ªç›†è¶…è¼•é¬†ã€‚", type: "snow", icon: "fa-snowflake", link: "https://maps.app.goo.gl/sTFgwmzm44dj8ags6?g_st=il"},
                    { time: "12:30", title: "å±±é ‚åˆé¤", desc: "æ¬£è³çµç¶æ¹–çµ•æ™¯åŒæ™‚äº«ç”¨ç†±é¨°é¨°é¤é»ã€‚", type: "food", icon: "fa-hamburger" },
                    { time: "15:00", title: "é«˜å³¶å¸‚å…’ç«¥ä¹‹åœ‹", desc: "å°æœ‹å‹é‚„æœ‰é«”åŠ›å¯å»ç©ã€‚", type: "spot", icon: "fa-child", link: "https://maps.app.goo.gl/hRr1sx9uCUVpwQde7" },
                    { time: "17:30", title: "çºŒä½ï¼šç¶ æ°´äº­", desc: "æ»‘é›ªå®Œå›é£¯åº—æ³¡æº«æ³‰æ”¾é¬†ã€‚", type: "hotel", icon: "fa-bed", link: "https://www.google.com/maps/search/?api=1&query=Biwako+Ryokusuitei" }
                ]
            },
            {
                day: "D5", date: "2/17 (äºŒ)", area: "å®‡æ²»æ–‡åŒ– ğŸš— å¤§é˜ª", lat: 34.8892, lon: 135.8077, 
                events: [
                    { time: "09:00", title: "é‡‘é–£å¯º", desc: "åƒè§€é‡‘è‰²é–£æ¨“ã€‚", type: "spot", icon: "fa-place-of-worship", link: "https://www.google.com/maps/search/?api=1&query=Kinkakuji+Kyoto" },
                    { time: "12:00", title: "å®‡æ²»ååº—åˆé¤", desc: "æ¨è–¦ï¼šä¸­æ‘è—¤å‰ æˆ– ä¼Šè—¤ä¹…å³è¡›é–€ã€‚", type: "food", icon: "fa-leaf", link: "https://www.tokichi.jp/" },
                    { time: "14:30", title: "å¹³ç­‰é™¢", desc: "é³³å‡°å ‚æœ¬å°Šã€‚", type: "spot", icon: "fa-landmark", link: "https://www.byodoin.or.jp/" },
                    { time: "19:00", title: "é›£æ³¢é‚„è»Š (TOYOTA)", desc: "19:00å‰é‚„è»Šã€‚è¨˜å¾—å…ˆåŠ æ»¿æ²¹ã€‚", type: "transport", icon: "fa-check-circle", link: "https://www.google.com/maps/search/?api=1&query=Toyota+Rent+a+Car+Namba+Terminal+Shop" },
                    { time: "19:30", title: "å…¥ä½ï¼šKOKO HOTEL", desc: "é›£æ³¢åƒæ—¥å‰åˆ†é¤¨ã€‚", type: "hotel", icon: "fa-hotel", link: "https://www.google.com/maps/search/?api=1&query=KOKO+HOTEL+Osaka+Namba+Sennichimae" }
                ]
            },
            {
                day: "D6", date: "2/18 (ä¸‰)", area: "å¤©ç‹å¯ºè¦ªå­éŠ", lat: 34.6472, lon: 135.5139, 
                events: [
                    { time: "09:30", title: "å¤©ç‹å¯ºå‹•ç‰©åœ’", desc: "ğŸ¦ å­©å­çš„æœ€æ„›ã€‚", type: "spot", icon: "fa-hippo", link: "https://www.google.com/maps/search/?api=1&query=Tennoji+Zoo" },
                    { time: "16:00", title: "HARUKAS 300", desc: "å±•æœ›å°æ‹ç…§æ¬£è³å¸‚æ™¯ã€‚", type: "spot", icon: "fa-cloud", link: "https://www.google.com/maps/search/?api=1&query=Harukas+300" },
                    { time: "å®¿", title: "çºŒä½ KOKO HOTEL", desc: "é›£æ³¢åƒæ—¥å‰", type: "hotel", icon: "fa-bed", link: "https://www.google.com/maps/search/?api=1&query=KOKO+HOTEL+Osaka+Namba+Sennichimae" }
                ]
            },
            {
                day: "D7", date: "2/19 (å››)", area: "æµ·éŠé¤¨ & æ¢…ç”°", lat: 34.6525, lon: 135.4289, 
                events: [
                    { time: "09:30", title: "æµ·éŠé¤¨", desc: "çœ‹å·¨å¤§é¯¨é¯Šèˆ‡é¤µé£Ÿç§€ã€‚", type: "spot", icon: "fa-fish", link: "https://www.google.com/maps/search/?api=1&query=Osaka+Aquarium+Kaiyukan" },
                    { time: "17:30", title: "æ¢…ç”°é€›è¡—", desc: "ç™¾è²¨å…¬å¸è³¼ç‰©æœ€å¾Œè¡åˆºã€‚", type: "shop", icon: "fa-building", link: "https://www.google.com/maps/search/?api=1&query=Umeda+Osaka" },
                    { time: "å®¿", title: "çºŒä½ KOKO HOTEL", desc: "é›£æ³¢åƒæ—¥å‰", type: "hotel", icon: "fa-bed", link: "https://www.google.com/maps/search/?api=1&query=KOKO+HOTEL+Osaka+Namba+Sennichimae" }
                ]
            },
            {
                day: "D8", date: "2/20 (äº”)", area: "å¤§é˜ª âœˆï¸ å°åŒ—", lat: 34.4320, lon: 135.2304, 
                events: [
                    { time: "ä¸Šåˆ", title: "é£¯åº—ä¼‘æ¯", desc: "æœ€å¾Œæ•´ç†è¡Œæèˆ‡æ‚ é–’æ—©é¤ã€‚", type: "hotel", icon: "fa-coffee" },
                    { time: "11:00", title: "å‰å¾€æ©Ÿå ´", desc: "æ­ä¹˜å—æµ·é›»éµå‰å¾€æ©Ÿå ´ã€‚", type: "transport", icon: "fa-bus" },
                    { time: "14:30", title: "é£›å¾€å°åŒ—", desc: "é—œè¥¿æ©Ÿå ´ T1 â†’ æ¡ƒåœ’æ©Ÿå ´ T2 (é è¨ˆ 16:45 æŠµé”)ã€‚", type: "flight", icon: "fa-plane-arrival" }
                ]
            }
        ];

        const checklistData = [
            { category: "å¿…å‚™è­‰ä»¶ & é‡‘éŒ¢", items: ["è­·ç…§ (æ•ˆæœŸ6å€‹æœˆä»¥ä¸Š)", "æ—¥æ–‡é§•ç…§è­¯æœ¬", "å°ç£é§•ç…§", "VJW QR Code æˆªåœ–", "æ—¥å¹£ç¾é‡‘", "æµ·å¤–é«˜å›é¥‹ä¿¡ç”¨å¡", "iPhone Suica ç¶å®š", "é ç´„æ–‡ä»¶å½±æœ¬"] },
            { category: "è¡£ç‰©ç©¿æ­ (2æœˆå¾ˆå†·)", items: ["ç¾½çµ¨ä¿æš–å¤–å¥—", "ç™¼ç†±è¡£", "å¤§äººå°å­©é˜²å¯’è¡£", "æ¯›å¸½/ä¿æš–åœå·¾", "æ‰‹å¥— (æ»‘é›ªå¿…å‚™)", "åšè¥ªå­", "æš–æš–åŒ…", "é›ªé‹/é˜²æ°´é‹"] },
            { category: "é›»å­ & é›œç‰©", items: ["è¡Œå‹•é›»æº", "æ’åº§/å……é›»ç·š", "è½‰æ¥é ­", "å¸¸å‚™è—¥å“", "ä¿é¤Šå“/ç›¥æ´—ç”¨å…·", "æŠ˜ç–Šé›¨å‚˜", "æ¿•ç´™å·¾", "æ°´å£º", "è€³å¡", "iPad", "æ‰‹æ©Ÿæ›ç¹©"] }
        ];

        const infoData = {
            flights: [
                { leg: "å»ï¼šæ¡ƒåœ’ T2 â†’ é—œè¥¿ T1", code: "CI172", time: "14:20 - 17:50" },
                { leg: "å›ï¼šé—œè¥¿ T1 â†’ æ¡ƒåœ’ T2", code: "CI153", time: "14:30 - 16:45" }
            ],
            hotels: [
                { name: "äº¬éƒ½ Emion é£¯åº—", address: "äº¬éƒ½å¸‚ä¸‹äº¬å€æœ±é›€å ‚ä¹‹å£ç”º20-4", map: "https://www.google.com/maps/search/?api=1&query=Hotel+Emion+Kyoto" },
                { name: "çµç¶æ¹– ç¶ æ°´äº­", address: "æ»‹è³€ç¸£å¤§æ´¥å¸‚é›„ç´6-1-6", map: "https://www.google.com/maps/search/?api=1&query=Biwako+Ryokusuitei" },
                { name: "KOKO HOTEL å¤§é˜ªé›£æ³¢", address: "å¤§é˜ªåºœå¤§é˜ªå¸‚ä¸­å¤®å€é›£æ³¢åƒæ—¥å‰1-3-7", map: "https://www.google.com/maps/search/?api=1&query=KOKO+HOTEL+Osaka+Namba+Sennichimae" }
            ],
            links: [
                { title: "ç®±é¤¨å±±å³æ™‚å½±åƒ", desc: "ç¢ºèªå±±ä¸Šé›ªæ³èˆ‡å¤©æ°£ã€‚", icon: "fa-video", color: "text-red-500", url: "https://www.hakodateyama.com/winter/" },
                { title: "JR è¥¿æ—¥æœ¬é‹è¡Œæƒ…å ±", desc: "æŸ¥è©¢äº¤é€šæ˜¯å¦å»¶èª¤ã€‚", icon: "fa-train", color: "text-blue-600", url: "https://global.trafficinfo.westjr.co.jp/en/kansai" },
                { title: "å³æ™‚åŒ¯ç‡æ›ç®—", desc: "Google è²¡ç¶“æ—¥å¹£/å°å¹£åŒ¯ç‡ã€‚", icon: "fa-calculator", color: "text-green-600", url: "https://www.google.com/finance/quote/JPY-TWD" }
            ],
            emergency: [{ title: "è­¦å±€ / æ•‘è­·è»Š", tel: "110 / 119" }, { title: "é§å¤§é˜ªè¾¦äº‹è™•", tel: "+81-90-8794-4568" }],
            mapcodes: [
                { name: "æ˜å¤ªå­å…¬åœ’", code: "31 162 769*47", note: "é–€å£å¤§å‹å…è²»åœè»Šå ´" },
                { name: "La Collina", code: "67 803 260*71", note: "å°ˆå±¬å¤§å‹å…è²»åœè»Šå ´" },
                { name: "ç¶ æ°´äº­", code: "103 249 718*38", note: "ä½å®¢å…è²»åœè»Š" },
                { name: "ç™½é¬šç¥ç¤¾", code: "263 538 411*28", note: "å°é¢å°å‹åœè»Šå ´" },
                { name: "ç®±é¤¨å±±æ»‘é›ª", code: "263 813 615*00", note: "çºœè»Šç«™ä¸‹å¤§å‹æ”¶è²»åœè»Šå ´" },
                { name: "å…’ç«¥ä¹‹åœ‹", code: "263 451 866*66", note: "æ”¶è²»åœè»Šå ´ç´„ 500å††" },
                { name: "é‡‘é–£å¯º", code: "7 674 815*41", note: "é–€å£ä»˜è²»å°ˆç”¨åœè»Šå ´" },
                { name: "å®‡æ²»å¹³ç­‰é™¢", code: "7 131 716*88", note: "å»ºè­°æ‰¾å‘¨é‚Šæ°‘ç‡Ÿè»Šå ´" },
                { name: "Toyota é›£æ³¢", code: "1 224 457*02", note: "é‚„è»Šé» (è¨˜å¾—å…ˆåŠ æ²¹)" }
            ]
        };

        const contentArea = document.getElementById('content-area');
        const weatherDisplay = document.getElementById('weather-display');
        const weatherLocation = document.getElementById('weather-location');
        let activeIndex = 0;

        async function fetchWeather(lat, lon, areaName) {
            weatherLocation.innerText = areaName;
            weatherDisplay.innerHTML = '<i class="fas fa-circle-notch fa-spin text-sm"></i>';
            try {
                const response = await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`);
                const data = await response.json();
                weatherDisplay.innerHTML = `<i class="fas ${data.current_weather.weathercode > 3 ? 'fa-cloud' : 'fa-sun'}"></i> ${Math.round(data.current_weather.temperature)}Â°`;
            } catch { weatherDisplay.innerText = "N/A"; }
        }

        function renderTabs() {
            const tabs = document.getElementById('tabs-container');
            tabs.innerHTML = '';
            tripData.forEach((item, index) => {
                const isActive = index === activeIndex;
                const btn = document.createElement('div');
                btn.className = `flex-shrink-0 w-16 h-18 flex flex-col items-center justify-center rounded-2xl cursor-pointer transition-all snap-center ${isActive ? 'bg-blue-600 text-white shadow-lg' : 'bg-white text-gray-500 shadow-sm border border-gray-100'}`;
                btn.innerHTML = `<span class="text-[10px] opacity-80">${item.date.split(' ')[0]}</span><span class="text-xl font-bold">${item.day}</span>`;
                btn.onclick = () => { activeIndex = index; renderTabs(); renderContent(); };
                tabs.appendChild(btn);
            });
            const infoBtn = document.createElement('div');
            infoBtn.className = `flex-shrink-0 w-16 h-18 flex flex-col items-center justify-center rounded-2xl cursor-pointer snap-center ${activeIndex===100?'bg-emerald-500 text-white shadow-lg':'bg-white text-gray-500 shadow-sm border border-gray-100'}`;
            infoBtn.innerHTML = `<span class="text-[10px] opacity-80">Info</span><span class="text-xl font-bold"><i class="fas fa-info-circle"></i></span>`;
            infoBtn.onclick = () => { activeIndex = 100; renderTabs(); renderInfo(); };
            tabs.appendChild(infoBtn);
            const listBtn = document.createElement('div');
            listBtn.className = `flex-shrink-0 w-16 h-18 flex flex-col items-center justify-center rounded-2xl cursor-pointer snap-center ${activeIndex===99?'bg-orange-500 text-white shadow-lg':'bg-white text-gray-500 shadow-sm border border-gray-100'}`;
            listBtn.innerHTML = `<span class="text-[10px] opacity-80">List</span><span class="text-xl font-bold"><i class="fas fa-tasks"></i></span>`;
            listBtn.onclick = () => { activeIndex = 99; renderTabs(); renderChecklist(); };
            tabsContainer.appendChild(listBtn);
        }

        function renderContent() {
            const data = tripData[activeIndex];
            contentArea.innerHTML = `<div class="mb-4 px-1 animate-card"><h2 class="text-2xl font-extrabold text-slate-800">${data.date}</h2><p class="text-slate-500 text-sm mt-0.5"><i class="fas fa-map-marker-alt text-red-500 mr-1.5"></i> ${data.area}</p></div>`;
            fetchWeather(data.lat, data.lon, data.area.includes("å®‡æ²»")?"å®‡æ²»":"äº¬éƒ½");
            data.events.forEach((event, idx) => {
                let color = "#94a3b8"; 
                if(event.type==='flight') color = "#2563eb";
                else if(['spot','snow','shop'].includes(event.type)) color = "#10b981";
                else if(event.type==='hotel') color = "#6366f1";
                else if(event.type==='food') color = "#f59e0b";
                
                const isFlight = (event.type === 'flight');
                const cardStyle = isFlight ? 'bg-blue-600 border-blue-700 text-white shadow-md' : `bg-white border-l-[6px] text-slate-800 shadow-sm`;
                
                contentArea.insertAdjacentHTML('beforeend', `<div class="${cardStyle} rounded-2xl p-4 animate-card flex gap-4 mb-4" style="${!isFlight?'border-color:'+color:''}; animation-delay:${idx*50}ms"><div class="w-12 text-center flex-shrink-0"><div class="text-xs font-bold mb-1 ${isFlight?'text-white/80':'text-slate-400'}">${event.time}</div><i class="fas ${event.icon} text-xl" style="color:${isFlight?'#fff':color}"></i></div><div class="flex-1 min-w-0"><h3 class="font-bold text-lg leading-tight">${event.title}</h3><p class="text-sm mt-1.5 ${isFlight?'text-white/90':'text-slate-500'} leading-relaxed">${event.desc}</p>${event.link?`<a href="${event.link}" target="_blank" class="inline-flex items-center gap-1.5 mt-3 text-[10px] ${isFlight?'bg-white/20 text-white':'bg-slate-100 text-slate-700 border border-slate-200'} px-3 py-1.5 rounded-full font-bold transition active:opacity-60"><i class="fas fa-location-arrow"></i> æŸ¥çœ‹è©³æƒ…</a>`:''}</div></div>`);
            });
        }

        function renderChecklist() {
            contentArea.innerHTML = '<h2 class="text-2xl font-extrabold text-slate-800 px-1 mb-4 tracking-tight">è¡Œææª¢æŸ¥è¡¨</h2>';
            checklistData.forEach(cat => {
                const itemsHtml = cat.items.map(item => `<label class="flex items-center gap-3 py-3 border-b border-slate-100 active:bg-slate-50 transition-colors checkbox-wrapper"><input type="checkbox" class="hidden peer"><div class="w-6 h-6 rounded-full border-2 border-slate-300 flex items-center justify-center peer-checked:bg-blue-600 peer-checked:border-blue-600 transition-all"><svg class="w-3.5 h-3.5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"></path></svg></div><span class="text-gray-700 font-medium peer-checked:text-gray-400 peer-checked:line-through">${item}</span></label>`).join('');
                contentArea.insertAdjacentHTML('beforeend', `<div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100 mb-4"><h3 class="font-bold text-blue-600 mb-3 border-l-4 border-blue-600 pl-3 leading-none">${cat.category}</h3><div class="flex flex-col">${itemsHtml}</div></div>`);
            });
        }

        function renderInfo() {
            contentArea.innerHTML = '<h2 class="text-2xl font-extrabold text-slate-800 px-1 mb-4 tracking-tight">æ—…è¡Œè³‡è¨Šä¸­å¿ƒ</h2>';
            let linksHtml = infoData.links.map(l => `<a href="${l.url}" target="_blank" class="flex items-center gap-3 py-4 border-b border-slate-50 last:border-0 active:bg-slate-50 transition-colors"><div class="w-10 h-10 rounded-full bg-slate-50 flex items-center justify-center"><i class="fas ${l.icon} ${l.color} text-lg"></i></div><div class="flex-1"><div class="font-bold text-slate-800">${l.title}</div><div class="text-xs text-slate-400">${l.desc}</div></div><i class="fas fa-chevron-right text-slate-300 text-xs"></i></a>`).join('');
            contentArea.insertAdjacentHTML('beforeend', `<div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100 mb-4"><h3 class="font-bold text-emerald-600 mb-2">å¯¦ç”¨å·¥å…·</h3>${linksHtml}</div>`);
            let flights = infoData.flights.map(f => `<div class="flex justify-between py-3 border-b border-slate-50 last:border-0"><span class="font-medium text-slate-700">${f.leg}</span><span class="font-bold text-blue-600">${f.time}</span></div>`).join('');
            contentArea.insertAdjacentHTML('beforeend', `<div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100 mb-4"><h3 class="font-bold text-indigo-600 mb-2">èˆªç­è³‡è¨Š</h3>${flights}</div>`);
            let hotels = infoData.hotels.map(h => `<div class="py-3 border-b last:border-0"><div class="font-bold text-slate-800">${h.name}</div><div class="text-xs text-slate-400 mb-1">${h.address}</div><a href="${h.map}" target="_blank" class="text-xs text-blue-500 underline font-bold">æŸ¥çœ‹åœ°åœ–</a></div>`).join('');
            contentArea.insertAdjacentHTML('beforeend', `<div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100 mb-4"><h3 class="font-bold text-indigo-600 mb-2">ä½å®¿åœ°é»</h3>${hotels}</div>`);
            let emer = infoData.emergency.map(e => `<div class="flex justify-between py-2 border-b last:border-0"><span>${e.title}</span><a href="tel:${e.tel}" class="text-red-500 font-extrabold">${e.tel}</a></div>`).join('');
            contentArea.insertAdjacentHTML('beforeend', `<div class="bg-white rounded-3xl p-6 shadow-sm border border-slate-100 mb-4"><h3 class="font-bold text-red-500 mb-2">ç·Šæ€¥è¯çµ¡</h3>${emer}</div>`);
        }

        function showMapcode(show) {
            const modal = document.getElementById('mapcode-modal');
            const body = document.getElementById('mapcode-body');
            if (show) {
                body.innerHTML = infoData.mapcodes.map(m => `<tr><td><div class="font-bold text-slate-800">${m.name}</div></td><td class="mapcode-num">${m.code}</td><td class="parking-note">${m.note}</td></tr>`).join('');
                modal.style.display = 'flex';
            } else { modal.style.display = 'none'; }
        }

        renderTabs(); renderContent();
    </script>
</body>
</html>
